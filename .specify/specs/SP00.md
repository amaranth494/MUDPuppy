# SP00 — Environment & Infrastructure Foundation

**Spec Identifier:** SP00PH00T00 → SP00  
**Phase:** Pre-MVP Foundation  
**Category:** Infrastructure / Governance Enablement

---

## Problem Statement

Development cannot begin until the local environment, source control, hosting platform, CI/CD pipeline, and managed services are operational, secured, and verified.

SP00 establishes the foundational infrastructure required to support Spec-driven development under the Constitution. It ensures that all future Specs execute within a controlled, reproducible, secure environment aligned with the Hosting Model, Technology Stack, and CI/CD doctrine defined in the Constitution.

This Spec produces no user-facing features. It produces the operational runway required for all subsequent Specs.

---

## Scope

**SP00 exists to guarantee four things:**
1. You can write code locally
2. You can push that code
3. It deploys automatically
4. It runs somewhere stable with Postgres + Redis available

---

## What Must Exist for MVP Runway

### 1. Deterministic Environment

**Required:**
- Node.js installed (with version pinning: .nvmrc or engines field)
- Go installed (with go.mod initialized)
- Git installed
- Visual Studio Code (recommended)

**Acceptance Criteria:**
- [ ] Node version pinned (e.g., .nvmrc or package.json engines)
- [ ] Go module initialized (go.mod exists)
- [ ] Clean machine can clone repo and run locally
- [ ] No undocumented manual steps required

---

### 2. Deterministic Deployment

**Required:**
- GitHub repository created
- Railway project initialized
- Linked to GitHub repository
- Automatic deploy enabled

**Acceptance Criteria:**
- [ ] git push to main triggers Railway deployment
- [ ] Production URL exists and responds
- [ ] Backend /health endpoint returns { status: "ok" }
- [ ] Frontend displays simple landing page

---

### 3. Deterministic Persistence

**Required:**
- Railway PostgreSQL provisioned
- Railway Redis provisioned

**Acceptance Criteria:**
- [ ] DATABASE_URL configured in Railway
- [ ] REDIS_URL configured in Railway
- [ ] Backend connects to Postgres successfully
- [ ] Backend connects to Redis successfully
- [ ] No hardcoded credentials in codebase

---

### 4. Deterministic CI Gate

**Required:**
- GitHub Actions workflow configured
- CI runs on pull request and push to main

**Pipeline Must:**
- Install dependencies
- Build backend
- Build frontend
- Run test suite (placeholder tests acceptable)

**Acceptance Criteria:**
- [ ] PR cannot merge if CI fails
- [ ] CI builds backend successfully
- [ ] CI builds frontend successfully

---

## Non-Goals

SP00 does NOT include (these are SP01+ problems):
- Deep repo structure governance
- Formal linter ecosystem
- Full observability strategy
- Secret rotation doctrine
- Tier economics modeling
- Full formatting standards
- Toolchain hardening

---

## Phase Structure

- PH00 – Branch creation & spec commit
- PH01 – Local environment (Node + Go + run locally)
- PH02 – GitHub + Railway setup
- PH03 – Data stores (Postgres + Redis)
- PH04 – Deployment verification (health endpoint)
- PH05 – CI gate verification
- PH06 – QA validation
- PH07 – Merge & close

---

## Definition of Done

SP00 is complete only when:

- [ ] Node version pinned
- [ ] Go module initialized
- [ ] Clean clone → local run works
- [ ] Git push → Railway auto-deploy works
- [ ] Production URL responds
- [ ] /health endpoint returns ok
- [ ] Postgres connected
- [ ] Redis connected
- [ ] CI builds pass
- [ ] QA confirms from browser

---

## Status

**Phase:** PH00 — Pre-Development Environment Setup  
**Status:** Open  
**Created:** 2026-02-20
